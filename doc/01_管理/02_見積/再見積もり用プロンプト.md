# SES管理システム v2 再見積もり用プロンプト

## 📋 見積もり依頼の背景

既存の見積もりが実際のプロジェクト規模を反映していない可能性があります。以下の詳細情報を基に、**現実的で妥当な工数・金額見積**を再作成してください。

---

## 🎯 プロジェクト概要

### システム名称
SES（System Engineering Service）業務管理システム v2

### アーキテクチャ
- **設計手法**: Domain-Driven Design（DDD）
- **アーキテクチャ**: マイクロサービスアーキテクチャ
- **開発手法**: Test-Driven Development（TDD）
- **通信方式**: Event-Driven Architecture（Apache Kafka）

---

## 🏗️ システム構成詳細

### マイクロサービス（8サービス）

#### 1. Project Service（案件管理）
- **機能**: 案件CRUD、ステータス管理、要求スキル管理、予算管理
- **複雑性**: 中程度
- **API数**: 約20エンドポイント
- **画面数**: 4画面
- **特記事項**: 案件ライフサイクル管理、複雑な検索・フィルタ機能

#### 2. Engineer Service（技術者管理）
- **機能**: 技術者CRUD、スキル管理、評価管理、アサイン管理
- **複雑性**: 高
- **API数**: 約25エンドポイント
- **画面数**: 4画面
- **特記事項**: スキルマトリックス、多層の評価システム、GDPR準拠

#### 3. Matching Service（マッチング）
- **機能**: スキルベースマッチング、適性評価、推薦アルゴリズム
- **複雑性**: 最高
- **API数**: 約15エンドポイント
- **画面数**: 4画面
- **特記事項**: **複雑なマッチングアルゴリズム実装必須**、機械学習要素

#### 4. Contract Service（契約管理）
- **機能**: 契約CRUD、電子契約、承認ワークフロー
- **複雑性**: 高
- **API数**: 約20エンドポイント
- **画面数**: 4画面
- **特記事項**: **CloudSign API連携**、複雑な承認フロー

#### 5. Timesheet Service（勤怠・工数管理）
- **機能**: 勤怠入力、工数集計、承認フロー、レポート生成
- **複雑性**: 高
- **API数**: 約25エンドポイント
- **画面数**: 4画面
- **特記事項**: 複雑な集計ロジック、多段階承認

#### 6. Billing Service（請求・支払管理）
- **機能**: 請求書生成、支払管理、売上分析
- **複雑性**: 高
- **API数**: 約20エンドポイント
- **画面数**: 4画面
- **特記事項**: **MoneyForward API連携**、複雑な会計処理

#### 7. Report Service（レポート・分析）
- **機能**: ダッシュボード、KPI分析、カスタムレポート
- **複雑性**: 高
- **API数**: 約15エンドポイント
- **画面数**: 4画面
- **特記事項**: リアルタイム分析、複雑なデータ集約

#### 8. Notification Service（通知管理）
- **機能**: マルチチャネル通知、テンプレート管理
- **複雑性**: 中程度
- **API数**: 約15エンドポイント
- **画面数**: 4画面
- **特記事項**: **Slack API連携**、リアルタイム通知

### 共通基盤（4モジュール）
1. **shared-domain**: 共通ドメインモデル、Value Objects
2. **shared-events**: ドメインイベント、Kafka連携
3. **shared-security**: 暗号化サービス、GDPR準拠
4. **shared-utils**: 共通ユーティリティ、バリデーション

### 外部システム連携（3システム）
1. **CloudSign**: 電子契約API連携
2. **MoneyForward**: 会計システムAPI連携
3. **Slack**: 通知API連携

### 認証・認可基盤
- **Keycloak**: OAuth2/OIDC認証
- **ロール権限マトリックス**: 複雑な権限管理
- **JWT トークン**: カスタムクレーム実装

---

## 📊 技術要件

### フロントエンド
- **Thymeleaf**: サーバーサイドレンダリング
- **Bootstrap 5**: レスポンシブデザイン
- **Alpine.js**: 軽量JavaScript フレームワーク

### バックエンド
- **Java 17 LTS**: 最新言語機能活用
- **Spring Boot 3.2**: 最新フレームワーク
- **PostgreSQL 15**: 8つの独立したスキーマ
- **Apache Kafka**: イベントストリーミング
- **Redis**: キャッシュ・セッション管理

### インフラ
- **Docker**: コンテナ化
- **CI/CD**: GitHub Actions
- **監視**: Prometheus + Grafana
- **ログ**: ELK Stack

---

## ⚠️ 非機能要件（重要）

### 性能要件
- **同時ユーザー数**: 500ユーザー
- **応答時間**: 2秒以内
- **スループット**: 1000リクエスト/分

### 可用性要件
- **稼働率**: 99.9%/月
- **災害復旧**: RTO 4時間、RPO 1時間

### セキュリティ要件
- **データ暗号化**: AES-256-GCM
- **GDPR準拠**: 削除権・ポータビリティ権
- **監査ログ**: 全操作の記録

### データ要件
- **データベース**: 約80テーブル
- **データ移行**: 既存システムからの移行
- **データ量**: 初期10万レコード、年間50%増

---

## 📈 業界標準指標（参考）

### エンタープライズシステム標準工数
- **マイクロサービス**: 100-200人日/サービス
- **外部API連携**: 30-50人日/連携
- **認証基盤**: 50-100人日
- **UI実装**: 5-10人日/画面
- **テスト工数**: 開発工数の30-40%
- **プロジェクト管理**: 全体工数の10-15%

### 類似プロジェクト実績
- **8マイクロサービス規模**: 1,500-2,500人日
- **外部連携3システム**: +300-500人日
- **GDPR準拠要件**: +200-300人日

---

## 🎯 見積もり要求事項

### 必須項目
1. **各マイクロサービスの詳細工数内訳**
   - ドメインモデル実装
   - API実装（REST + イベント）
   - UI実装（Thymeleaf + JavaScript）
   - データアクセス層（JPA）
   - 単体テスト
   - 統合テスト

2. **外部連携の詳細工数**
   - CloudSign API実装・テスト
   - MoneyForward API実装・テスト
   - Slack API実装・テスト

3. **共通基盤の工数**
   - 認証・認可基盤（Keycloak）
   - 共通モジュール開発
   - CI/CDパイプライン構築
   - 監視・ログ基盤

4. **品質保証工数**
   - コードレビュー
   - システム統合テスト
   - 性能・負荷テスト
   - セキュリティテスト

5. **プロジェクト管理工数**
   - プロジェクト管理
   - 進捗管理
   - ドキュメント作成
   - 移行作業

### 見積もり形式
```
■ マイクロサービス別工数
├─ Project Service: XXX人日
├─ Engineer Service: XXX人日
├─ Matching Service: XXX人日（アルゴリズム含む）
├─ Contract Service: XXX人日（CloudSign連携含む）
├─ Timesheet Service: XXX人日
├─ Billing Service: XXX人日（MoneyForward連携含む）
├─ Report Service: XXX人日
└─ Notification Service: XXX人日（Slack連携含む）

■ 共通基盤: XXX人日
■ 品質保証: XXX人日
■ プロジェクト管理: XXX人日
■ バッファ・リスク対応: XXX人日

合計: XXX人日（XXX人月）
```

---

## ⚡ 重要な考慮事項

### 🔴 過小見積もりを避けるポイント
1. **マッチングアルゴリズム**: 単純なCRUDではない複雑なロジック
2. **外部API連携**: エラーハンドリング、リトライ機能、テストの複雑性
3. **GDPR準拠**: データ削除・ポータビリティの実装工数
4. **イベント駆動**: Kafka実装、イベント設計の複雑性
5. **TDD開発**: テストファーストによる開発工数増加
6. **統合テスト**: 8サービス間の複雑な連携テスト

### ✅ 現実的な見積もりチェックリスト
- [ ] 各サービス100人日以上で見積もったか？
- [ ] 外部連携1つあたり30人日以上で見積もったか？
- [ ] テスト工数が開発工数の30%以上か？
- [ ] プロジェクト管理工数が全体の10%以上か？
- [ ] リスクバッファを10-20%確保したか？
- [ ] 業界標準（1,500-2,500人日）の範囲内か？

---

## 🎯 最終確認

**あなたの見積もりが以下の条件を満たしているか確認してください：**

1. **総工数**: 1,200-2,500人日の範囲内
2. **期間**: 6-12ヶ月の範囲内
3. **チーム規模**: 6-12名の範囲内
4. **詳細度**: サービス別・工程別の内訳あり
5. **現実性**: 業界標準と大きく乖離していない

**この情報を基に、プロジェクトの実態に即した現実的で妥当な見積もりを作成してください。**